<!-- all_milk_details.html -->
<div>
    <h1>All Milk Details</h1>
    <form method="get" action="{% url 'all_milk_details' %}">
        <label for="date">Select Date:</label>
        <input type="date" name="date" id="date" value="{{ request.GET.date }}">
        <label for="seller">Select Seller:</label>
        <select name="seller" id="seller">
            <option value="">-- All Sellers --</option>
            {% if sellers %}
                {% for seller in sellers %}
                    <option value="{{ seller.name }}" {% if request.GET.seller == seller.name %}selected{% endif %}>
                        {{ seller.name }}
                    </option>
                {% endfor %}
            {% else %}
                <option value="" disabled>No data available</option>
            {% endif %}
        </select>
        <button type="submit">Filter</button>
    </form>
  <a href="{% url 'add_milk_details' %}">
      <button>Add Milk Details</button>
  </a>
  <a href="{% url 'export_milk_sample_to_csv' %}" style="float: right;">
    <button>View Milk Details as CSV</button>
</a>

  <table>
      <thead>
          <tr>
              <th>Seller</th>
              <th>Cattle</th>
              <th>Collection Date</th>
              <th>Quantity</th>
              <th>Description</th>
              <th>Actions</th>
              <th>Sample test report</th>
          </tr>
      </thead>
      <tbody>
          {% for milk_detail in all_milk_details %}
          <tr>
              <td>{{ milk_detail.seller }}</td>
              <td>{{ milk_detail.milk_type }}</td>
              <td>{{ milk_detail.collection_date }}</td>
              <td>{{ milk_detail.quantity }}</td>
              <td>{{ milk_detail.description }}</td>
              <td>
                  <a href="{% url 'edit_milk_details' milk_detail.pk %}">
                      <button>Edit</button>
                  </a>
              </td>
              <td><a href="{% url 'addSample_test' %}"><button>Click Here</button></a></td> <!-- Link to detailed view -->
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>

<style>
  /* General styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

/* Form styling */
form {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 5px;
}

input[type="date"],
select {
    width: 200px;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

button[type="submit"] {
    padding: 8px 16px;
    background-color: #4caf50;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button[type="submit"]:hover {
    background-color: #45a049;
}

/* Table styling */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th,
td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

/* Action button styling */
.action-button {
    margin-top: 10px;
    margin-right: 10px;
}

.action-button button {
    padding: 8px 16px;
    font-size: 14px;
}

.action-link {
    text-decoration: none;
}

</style>
